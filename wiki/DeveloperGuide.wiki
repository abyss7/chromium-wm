#summary Developer Guide
#labels Phase-Implementation

= Introduction =

This page details the preferred way to work on Chromium WM.

<wiki:toc max_depth="2" />

= Prerequisites =

  * Committers will need an SVN account.

  * [http://dev.chromium.org/developers/how-tos/install-depot-tools depot_tools] is required on every platform, make sure it's correctly in your PATH.

= Initial checkout =

First, have gclient create its configuration file.

{{{
  gclient config https://chromium-wm.googlecode.com/svn/trunk/src
}}}

Optional: Edit the {{{.gclient}}} file that was created, and add lines to exclude unneeded tests in order to syncing faster. This is described in [http://dev.chromium.org/developers/how-tos/get-the-code#TOC-Reducing-the-size-of-your-checkout Reducing the size of your checkout].

Now do a sync to create the src/ folder and get the source code.

{{{
  # First time only you must use '--nohooks' to pull only source code, then install dependencies.
  gclient sync --nohooks
  src/build/install-build-deps.sh
  gclient sync
}}}

= Building =

This assumes you are building on Linux, and have a machine set up to build chromium already. If not, then see [https://code.google.com/p/chromium/wiki/LinuxBuildInstructionsPrerequisites Prerequisites] and [https://code.google.com/p/chromium/wiki/LinuxBuildInstructions First Time Build Bootstrap] in the Chromium Wiki.

=== Using clang ===

If you want to use clang as your compiler, then run {{{./tools/clang/scripts/update.sh}}} from the src/ folder to fetch the required pieces for it, and add {{{clang=1}}} to your {{{GYP_DEFINES}}} environment variable when running {{{gclient runhooks}}} as described in [https://code.google.com/p/chromium/wiki/Clang the Chromium clang instructions].

== Building Chromium ==

This builds Chromium with native X11 window manager support enabled.

{{{
  gclient runhooks  # This is needed if you change any .gyp(i) files.
  ninja -C out/Debug chrome
  # The resulting binary is found in out/Debug
}}}

== Building wm_shell ==

This builds a test shell that demonstrates the various window manager functionality for debugging.

{{{
  gclient runhooks  # This is needed if you change any .gyp(i) files.
  ninja -C out/Debug wm_shell
  # The resulting binary is found in out/Debug
}}}

== Building wm_unittests ==

This builds all window manager unit tests.

{{{
  gclient runhooks  # This is needed if you change any .gyp(i) files.
  ninja -C out/Debug wm_unittests
  # The resulting binary is found in out/Debug
}}}

== Further reading ==

Building this project is essentially the same as building the Chromium project, so more details can be found in [https://code.google.com/p/chromium/wiki/LinuxBuildInstructions the Chromium wiki].

= Linking errors =

If you build with a component build, you will need to apply https://codereview.chromium.org/12377013/ locally in your tree after doing {{{gclient sync}}} until that CL lands in chromium.